{"remainingRequest":"X:\\web-homework\\lesson 11\\frontend\\node_modules\\babel-loader\\lib\\index.js!X:\\web-homework\\lesson 11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!X:\\web-homework\\lesson 11\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\web-homework\\lesson 11\\frontend\\src\\components\\main\\Post\\PostPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\web-homework\\lesson 11\\frontend\\src\\components\\main\\Post\\PostPage.vue","mtime":1639766228508},{"path":"X:\\web-homework\\lesson 11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639605104435},{"path":"X:\\web-homework\\lesson 11\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639605107785},{"path":"X:\\web-homework\\lesson 11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639605104435},{"path":"X:\\web-homework\\lesson 11\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639605107516}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBvc3QgZnJvbSAiLi9Qb3N0IjsKaW1wb3J0IENvbW1lbnQgZnJvbSAiLi9Db21tZW50IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZXh0OiAiIiwKICAgICAgZXJyb3I6ICIiLAogICAgICBjb21tZW50czogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBvbkFkZENvbW1lbnQ6IGZ1bmN0aW9uIG9uQWRkQ29tbWVudCgpIHsKICAgICAgdGhpcy5lcnJvciA9ICIiOwogICAgICB0aGlzLiRyb290LiRlbWl0KCJvbkFkZENvbW1lbnQiLCB0aGlzLnBvc3QuaWQsIHRoaXMudGV4dCk7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJHJvb3QuJG9uKCJvbkFkZENvbW1lbnRWYWxpZGF0aW9uRXJyb3IiLCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIF90aGlzLmVycm9yID0gZXJyb3I7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJvbkFkZENvbW1lbnRTdWNjZXNzIiwgZnVuY3Rpb24gKGNvbW1lbnRzLCBpZCkgewogICAgICBpZiAoX3RoaXMucG9zdC5pZCA9PT0gaWQpIHsKICAgICAgICBfdGhpcy50ZXh0ID0gIiI7CiAgICAgICAgX3RoaXMuZXJyb3IgPSAiIjsKICAgICAgICBfdGhpcy5jb21tZW50cyA9IGNvbW1lbnRzOwogICAgICB9CiAgICB9KTsKICAgIGF4aW9zLmdldCgiL2FwaS8xL3Bvc3RzLyIgKyB0aGlzLnBvc3QuaWQgKyAiL2NvbW1lbnRzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIF90aGlzLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbmFtZTogIlBvc3RQYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBQb3N0OiBQb3N0LAogICAgQ29tbWVudDogQ29tbWVudAogIH0sCiAgcHJvcHM6IFsicG9zdCIsICJ1c2VyIl0KfTs="},{"version":3,"sources":["PostPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,QAAA,EAAA,EARA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,wBAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,cAAA,EAAA,KAAA,IAAA,CAAA,EAAA,EAAA,KAAA,IAAA;AACA;AAJA,GAXA;AAiBA,EAAA,WAjBA,yBAiBA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,6BAAA,EAAA,UAAA,KAAA;AAAA,aAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AAAA,KAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,UAAA,QAAA,EAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,EAAA,KAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA;AACA;AACA,KANA;AAOA,IAAA,KAAA,CAAA,GAAA,CAAA,kBAAA,KAAA,IAAA,CAAA,EAAA,GAAA,WAAA,EAAA,IAAA,CAAA,UAAA,QAAA;AAAA,aAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AAAA,KAAA;AACA,GA3BA;AA4BA,EAAA,IAAA,EAAA,UA5BA;AA6BA,EAAA,UAAA,EAAA;AAAA,IAAA,IAAA,EAAA,IAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GA7BA;AA8BA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,MAAA;AA9BA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <Post :post=\"post\"/>\r\n    <div class=\"form-comment\" v-if=\"user\">\r\n      <div class=\"header\">Write Comment</div>\r\n\r\n      <form @submit.prevent=\"onAddComment\">\r\n        <div class=\"field\">\r\n          <div class=\"name\">\r\n            <label for=\"text\">Text:</label>\r\n          </div>\r\n          <div class=\"value\">\r\n            <textarea id=\"text\" name=\"text\" v-model=\"text\"></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"error\">{{ error }}</div>\r\n        <div class=\"button-field\">\r\n          <input type=\"submit\" value=\"Write\">\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <Comment v-for=\"comment in comments\"\r\n             :key=\"comment.id\"\r\n             :comment=\"comment\"/>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Post from \"./Post\";\r\nimport Comment from \"./Comment\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      text: \"\",\r\n      error: \"\",\r\n      comments: null\r\n    }\r\n  },\r\n  computed : {\r\n\r\n  },\r\n  methods: {\r\n    onAddComment: function () {\r\n      this.error = \"\";\r\n      this.$root.$emit(\"onAddComment\", this.post.id, this.text);\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.$root.$on(\"onAddCommentValidationError\", error => this.error = error);\r\n    this.$root.$on(\"onAddCommentSuccess\", (comments, id) => {\r\n      if (this.post.id === id) {\r\n        this.text = \"\";\r\n        this.error = \"\";\r\n        this.comments = comments\r\n      }\r\n    });\r\n    axios.get(\"/api/1/posts/\" + this.post.id + \"/comments\").then(response => this.comments = response.data)\r\n  },\r\n  name: \"PostPage\",\r\n  components: {Post, Comment},\r\n  props: [\"post\", \"user\"]\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/main/Post"}]}